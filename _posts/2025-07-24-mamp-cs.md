---
layout: post
title: "Multi-Agent Motion Planning in Continuous Space<br>连续空间多机运动规划"
date: 2025-7-24 12:00:00
categories:
  - research
  - highlights
description: "Multi-Agent Motion Planning in Continuous Space"
author: "Shizhe Zhao, Zhongqiang Ren"
published: true
sidebar:  false
permalink: /research/mamp_cont_space
image: /img/posts/2025-07-24-mamp-cs/MAMP_MICP_drone_1.gif
datatable: true
hero_height: is-small
title_image: None
link-new-tab: true
tags:
  - multi-agent_path_finding
  - mixed_integer_programming
---


Multi-Agent Motion Planning (MAMP) is a fundamental problem in multi-robot systems, which seeks collision-free trajectories for multiple robots from their respective start to goal locations among static obstacles while reaching their goals as quick as possible. MAMP arises in applications such as logistics and surveillance. Consider autonomous guided vehicles or forklifts transporting materials in factories, or drones flying in a city to delivery packages in a coordinated fashion among buildings. MAMP naturally arises in these scenarios to optimize the operation of the robots. MAMP is challenging when producing high quality trajectories among obstacles while avoiding agent-agent collision. Existing approaches for MAMP include graph-based, Mix-Integer Programming (MIP) based and trajectory optimization-based, each with its own limitations. We propose approaches for MAMP based on Mixed Integer Programming (MIP) and Graphs of Convex Sets (GCS) that complements these existing approaches.


<video id="MAMP_MICP_sim" autoplay controls muted loop playsinline height="100%">
  <source src="/img/posts/2025-07-24-mamp-cs/MAMP_MICP_sim.mp4"
          type="video/mp4">
    <figcaption>Fig.1 - MICP for MAMP in Simulation.</figcaption>
</video>


## CB-GCS: Conflict-Based search on the Graph of Convex Sets

To begin with, we leverage the recent notion of Graphs of Convex Sets (GCS), a new formulation for motion planning using conic programming, and investigates how to handle MAMP using GCS. In particular, we need to properly address the inter-robot collision avoidance constraints. We propose Conflict-Based search on the Graph of Convex Sets (CB-GCS), a new approach for MAMP. On one hand, CB-GCS leverages Conflict-Based Search (CBS) for Multi-Agent Path Finding (MAPF) problems, a technique that resolves agent-agent collisions in a discretized graph representation of the workspace. CB-GCS adapts the conflict resolution techniques from CBS to continuous space to resolve agent-agent collisions. On the other hand, CB-GCS leverages the recent concept of the Graph of Convex Sets (GCS), which has been used to plan paths in continuous spaces for a single robot navigating among static obstacles. CB-GCS plans a path for each agent in a time-augmented GCS, which includes an additional time dimension, to avoid agent-agent conflicts. Additionally, CB-GCS leverages anytime focal search to resolve agent-agent conflicts more efficiently while achieving a bounded suboptimal solution for MAMP. The results show that CB-GCS can find cheaper (better) solutions (i.e., up to 10x smaller optimality gap) than the baseline at the cost of limited scalability. More detail can be found in {% cite 2025_CASE_CBGCS_MAMP_ShizheZhao %}.


<video id="MAMP_MICP_drone_1" autoplay controls muted loop playsinline height="100%">
  <source src="/img/posts/2025-07-24-mamp-cs/MAMP_MICP_drone_1.mp4"
          type="video/mp4">
</video>


## MICP: Mixed Integer Conic Programming

We then investigate directly using Mixed Integer Conic Programming (MICP) for MAMP, which bypasses the time-augmented GCS in CB-GCS and turns out to run faster in our experiments. Our method leverages the big-M techniques to formulate inter-robot collision avoidance constraints, and formulates the speed limits and Euclidean travel distance using conic constraints. We compare MICP with a recent sampling-based method, as well as different formulations. The experiments include several non-trivial settings with up to 10 agents. The results show that our approach can find high-quality solutions in challenging cluttered space. In other settings, the solutions found by our approach are around 8 times closer to the true optimum than the ones found by the sampling method when given the same amount of runtime. We also showcase the use of our approach on multiple drones under a motion capture system in non-trivial cluttered environments. More detail can be found in {% cite 2025_IROS_MAMP_MICP_ShizheZhao %}.


<video id="MAMP_MICP_drone_2" autoplay controls muted loop playsinline height="100%">
  <source src="/img/posts/2025-07-24-mamp-cs/MAMP_MICP_drone_2.mp4"
          type="video/mp4">
    <figcaption>Fig.2 - MICP for MAMP using drones.</figcaption>
</video>


## CP-MILP: Mixed Integer Linear Programming with Control Perspective

These GCS and MICP methods can handle Euclidean distance objectives that cannot be directly represented by mixed integer linear program (MILP), yet suffer from limited scalability and often run obviously slower than MILP-based formulations. We therefore look into the MILP-based methods. The existing MILP relies on big-M constraints, a popular technique to formulate conditional constraints, to describe arrival times of the agents. However, we find that some of the big-M constraints in this MILP are unnecessary, and may potentially slow down the computation in practice. We therefore propose a new formulation that avoids some of the big-M constraints by redefining a set of binary variables and using a perspective technique over the control terms. We name our new formulation Control Perspective MILP (CP-MILP), and we prove that CP-MILP also ensures solution optimality. The test results show that, our CP-MILP is usually faster to solve to optimality, and the runtime reduction over the existing MILP is sometimes up to near an order of magnitude. More detail can be found in {% cite 2025_RAL_CP_MILP %}.

<figure>
    <img src="/img/posts/2025-07-24-mamp-cs/CP_MILP_n10_1st.gif" alt=""/>
    <img src="/img/posts/2025-07-24-mamp-cs/CP_MILP_n10_2nd.gif" alt=""/>
    <figcaption>Fig.3 - CP-MILP for MAMP for agents with single and double integrator dynamics.</figcaption>
</figure>


## Related Publications

{% bibliography --cited %}